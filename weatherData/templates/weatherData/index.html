<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <style>
        table,th,td{
            border: 1px solid gray;
        }
    </style>
</head>
<body>
<section id="table">
    <table>
        <tr>
            <th>Name</th>
            <th>Lon</th>
            <th>Lat</th>
        </tr>
        {% for weather in weathers %}
        <tr>
            <td id="name">{{ weather.name }}</td>
            <td id="lon">{{ weather.Longitude }}</td>
            <td id="lat">{{ weather.Latitude }}</td>
        </tr>
        {% endfor %}
    </table>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>

    $(document).ready(function () {
        setInterval(function () {
         $.ajax({
          url: "http://localhost:8000/get-weather",
          type: 'GET',
          dataType: 'jsonp',
          cors: true ,
          contentType:'application/json',
          secure: true,
          headers: {
            'Access-Control-Allow-Origin': '*',
          },

          success: function (data){
            console.log(data)
          }
      })
    },120000)
    })
</script>
</body>
</html>